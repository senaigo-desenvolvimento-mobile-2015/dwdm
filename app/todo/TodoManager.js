define(["require","exports"],function(a,b){"use strict";var c=function(){function a(){}return a.prototype.add=function(a){try{return a.id||(a.id=Math.floor(1e4*Math.random()+1)),localStorage.setItem(""+a.id,'{"description":"'+a.description+'", "completed":"'+a.completed+'"}'),a}catch(b){alert(b)}},a.prototype.remove=function(a){try{localStorage.removeItem(""+a.id)}catch(b){alert(b)}},a.prototype.listAll=function(){try{return localStorage}catch(a){alert(a)}},a.prototype.setAsCompleted=function(a){try{var b=jQuery.parseJSON(localStorage.getItem(""+a.id));"true"===b.completed?a.completed=!1:a.completed=!0,a.description=b.description,this.add(a)}catch(c){}},a.prototype.listActive=function(){var a={};return $.map(localStorage,function(b,c){"false"===jQuery.parseJSON(b).completed&&(a[c]=b)}),a},a.prototype.listComplete=function(){var a={};return $.map(localStorage,function(b,c){"true"===jQuery.parseJSON(b).completed&&(a[c]=b)}),a},a.prototype.clearCompleted=function(){try{var a=this.listComplete();for(var b in a)localStorage.removeItem(""+b)}catch(c){alert(c)}},a}();b.TodoManager=c});