define(["require","exports"],function(a,b){"use strict";var c=function(){function a(){}return a.prototype.add=function(a){try{return a.id||(a.id=Math.floor(1e4*Math.random()+1)),localStorage.setItem(""+a.id,'{"description":"'+a.description+'", "completed":"'+a.completed+'"}'),a}catch(b){return b}},a.prototype.remove=function(a){try{localStorage.removeItem(""+a.id)}catch(b){}},a.prototype.listAll=function(){try{for(var a={},b=Object.keys(localStorage),c=b.length;c--;)a[localStorage.key(c)]=localStorage.getItem(b[c]);return a}catch(d){return d}},a.prototype.setAsCompleted=function(a){try{var b=jQuery.parseJSON(localStorage.getItem(""+a.id));"true"===b.completed?a.completed=!1:a.completed=!0,a.description=b.description,this.add(a)}catch(c){}},a.prototype.listActive=function(){try{for(var a={},b=Object.keys(localStorage),c=b.length;c--;){var d=jQuery.parseJSON(localStorage.getItem(b[c]));"false"===d.completed&&(a[localStorage.key(c)]=localStorage.getItem(b[c]))}return a}catch(e){return e}},a.prototype.listComplete=function(){try{for(var a={},b=Object.keys(localStorage),c=b.length;c--;){var d=jQuery.parseJSON(localStorage.getItem(b[c]));"true"===d.completed&&(a[localStorage.key(c)]=localStorage.getItem(b[c]))}return a}catch(e){return e}},a.prototype.clearCompleted=function(){try{var a=this.listComplete();for(var b in a)localStorage.removeItem(""+b)}catch(c){console.log(c)}},a}();b.TodoManager=c});